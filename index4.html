<script src="script/processing.min.js"></script> 
<script type="text/processing" data-processing-target="vrniture">

var triangles = [];

void setup() {
  smooth();

  noStroke();
  size(window.innerWidth * 0.98, window.innerHeight * 0.98);
  triangles = [
    //[width/2, height/2, width/2 + 40, height/2, width/2, height/2 + 40],
    [0, 0, 40, 0, 0, 40, 45, 0.1],
    [-80, -80, -20, -80, -80, -20, 27, random(0.2)],
  ];
}

void draw() {
  //background(20);
  fill(255, 5); // semi-transparent white
  rect(0, 0, width, height);
 
  fill(random(255));

/*
  for (int i = 0; i < triangles.length; i++) {
    t = triangles[i];
    rotate(0.1);
    //triangle(t[0], t[1], t[2], t[3], t[4], t[5]);
    triangle(0, 0, 40, 0, 0, 40);
  }
*/

  translate(width/2, height/2);
  for (int i = 0; i < triangles.length; i++) {
    t = triangles[i];
    accel = t[7];
    for (int j = 0; j < t.length - 1; j++) {
      t[j] = t[j] + accel;
    }
    t[6] = t[6] + accel;

    pushMatrix();
    rotate(t[6]);
    triangle(t[0], t[1], t[2], t[3], t[4],t[5]);
    popMatrix();

/*
    for (int j = 0; j < triangles.length; j++) {
      t = triangles[j];
      t[0] = constrain(t[0], 0, width - 400);
      t[1] = constrain(t[1], 0, height - 400); 
      t[2] = constrain(t[2], 0, width - 400);
      t[3] = constrain(t[3], 0, height - 400);
      t[4] = constrain(t[4], 0, width - 400);
      t[5] = constrain(t[5], 0, height - 400);
      t[6] = constrain(t[6], 0, width - 400);
      triangles[j] = t;
console.log(t);
    }
*/

    
    if (t[0] > width || t[2] > width || t[4] > width) {
      t[7] = 0 - t[7];
      console.log('here');
      console.log(t[7]);
		} else {
      t[7] = 0 + t[7];
      console.log('here2');
      console.log(t[7]);
    }
    triangles[i] = t;
  }

}
</script>

<canvas id="vrniture"></canvas>
